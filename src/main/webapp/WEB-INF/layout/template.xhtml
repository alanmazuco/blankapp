<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en"
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://java.sun.com/jsf/composite/components">	
	
	<!-- Esta pagina sofrerah modificacao. -->	
	<f:view contentType="text/html" encoding="UTF-8" locale="#{userSessionInBean.locale}">
			
		<h:head>
			<title>#{facesContext.externalContext.getInitParameter('appTitle')}</title>	
								     					
			<link rel="shortcut icon" href="#{facesContext.externalContext.
				requestContextPath}/resources/images/favicon.ico" />
									
			<link rel="icon" type="image/gif" href="#{facesContext.externalContext.
				requestContextPath}/resources/images/animated_favicon_daprom.gif"/>	
									
			<h:outputStylesheet library="css" name="my_style.css"/>			
			<h:outputStylesheet library="#{configBean.config.skinTheme}" name="theme.css"/>				
			<h:outputStylesheet library="webjars" name="primeflex/2.0.0/primeflex.min.css" />
				
			<h:outputScript library="js" name="navegacao.js" target="head"/>			
			<h:outputScript library="js" name="maskValidator.js" target="head"/>
			<h:outputScript library="js" name="primefaces-i18n.js" target="head"/>
		</h:head>
		
		<h:body>			
			<h:graphicImage 
				style="width:105%;height:100%;position:absolute;z-index:-1000;"
				value="/resources/images/skin/#{configBean.config.skinBackground}/img_background.gif"/>
			
			<div class="container">
					
				<h:panelGrid id="header" style="height:100px;">
	    			<ui:include src="header.xhtml"/>	    		
	    		</h:panelGrid>
	    		
	    		<h:panelGrid id="menu" style="margin-top:-4px;width:100%">	    		
	    			<div style="text-align:center">
			    		<h:panelGrid cellpadding="0" cellspacing="0" width="100%" 
			    			style="position:relative;"
			    			rendered="#{configBean.config.menuType == 'menuBar'}">
			    			<ui:include src="hDynaMenu.xhtml"/>
			    		</h:panelGrid>
		    		</div>
		    			    		
		    		<h:panelGrid cellpadding="0" cellspacing="0" width="200" 
						rendered="#{configBean.config.menuType != 'menuBar'}">
						<ui:include src="vDynaMenu.xhtml"/>
					</h:panelGrid>	
	    		</h:panelGrid>
	    		    				    										
		    	<div class="body" >
		    		<br/>
		    		<h:panelGrid style="margin:0 auto;">		    			    			
				      	<ui:insert name="content"/>
					</h:panelGrid>
		    	</div>
		    	
		    	<div>		
		    		<ui:include src="footer.xhtml"/>		    		
		    	</div>		    			    	
			</div>	
			
			<a:dialog/>
			<a:dialogConfirm/>	
			<ui:include src="dlgStatusLoader.xhtml"/>
			
			<!-- expirar a sessao do usuario em 40 min (via ajax) -->
			<p:idleMonitor timeout="2400000">
				<p:ajax event="idle" listener="#{userSessionInBean.idleListener}"/> 
			</p:idleMonitor>
			
			<!-- tela de aviso ao utilizar botao retorno do browser -->
			<ui:include src="dlgButtonBack.xhtml"/>
		</h:body>	
	</f:view>
</html>